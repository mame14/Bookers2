<div class="container pt-3 pb-5">
  <div class="row">
    <div class="col-lg-5 mx-auto">
    <h1>User info</h1>
    <%= flash[:notice] %>

    <% if @user.errors.any? %>
      <%= @user.errors.count %>can't be blank error
      <ul>
        <% @user.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    <% end %>

    <%= form_with model: @user,url: user_path(current_user.id),method: :patch do |f| %>
      <div class="form-group py-2">
        <label for="inputName">Name</label>
        <%= f.text_field :name, autofocus: true, id: "inputName", placeholder: "name" %>
      </div>
      <div>
        <label for="inputImage">Image</label>
        <%= attachment_image_tag @user,:profile_image,:fill,60,60,fallback: "no_image.jpg" %>
        <%= f.attachment_field :profile_image, placeholder: "profile_image" %>
      </div>
      <div class="form-group py-3">
        <label for="inputIntroduction">Introduction</label>
        <%= f.text_area :introduction, autofocus: true, id: "inputintroduction", placeholder: "introduction" %>
      </div>
      <%= f.submit "Update User" %>
      <% end %>
    </div>
  </div>
</div>

